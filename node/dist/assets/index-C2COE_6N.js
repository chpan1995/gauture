import{g as d}from"./index-BglKwrYI.js";import{d as q,r as c,x as A,c as m,e as a,w as l,f as o,i as g,k as E,b as _,F,m as I,C as f,o as v,_ as N}from"./index-C7oGZG6Y.js";import"./request-Bboo2TiE.js";const G={class:"main_contain"},U={key:0,class:"tmp"},L=q({__name:"index",setup(M){const t=c([]),p=c(!1),u=c(!1),s=c(""),T=()=>{p.value=!0},V=async()=>{if(p.value){if(s.value=="")f.alert("输入不能为空",{confirmButtonText:"确定"});else{p.value=!1,(await d.reqAddType({name:s.value})).code!==200&&f.alert("添加种类失败",{confirmButtonText:"确定"}),s.value="";let e=await d.reqTypeInfo();t.value=e.data}return}u.value&&(t.value.forEach(n=>{n==""&&f.alert("输入不能为空",{confirmButtonText:"确定"})}),u.value=!1)},b=async n=>{(await d.reqDeleteType({id:n})).code!==200&&f.alert("删除种类失败",{confirmButtonText:"确定"});let i=await d.reqTypeInfo();t.value=i.data};return A(async()=>{let n=await d.reqTypeInfo();t.value=n.data}),(n,e)=>{const i=o("el-button"),y=o("el-input"),C=o("Remove"),h=o("el-icon"),B=o("el-popconfirm"),k=o("el-card");return v(),m("div",G,[a(i,{type:"primary",style:{width:"100px"},onClick:T,disabled:u.value},{default:l(()=>e[1]||(e[1]=[g(" 新增 ")])),_:1},8,["disabled"]),a(k,{class:"contain"},{default:l(()=>[(v(!0),m(F,null,I(t.value,(x,r)=>(v(),m("div",{key:r,class:"lab"},[e[2]||(e[2]=_("span",{style:{"margin-right":"10px",width:"40px"}},"种类",-1)),a(y,{class:"elinput","input-style":{textAlign:"center"},modelValue:t.value[r].name,"onUpdate:modelValue":w=>t.value[r].name=w,disabled:!u.value},null,8,["modelValue","onUpdate:modelValue","disabled"]),a(B,{title:`你确定要删除${t.value[r].name}?`,width:"260px",onConfirm:w=>b(t.value[r].id)},{reference:l(()=>[a(i,{style:{width:"24px",height:"24px",border:"none","margin-left":"10px"},circle:""},{default:l(()=>[a(h,{size:24,color:"#FF0000"},{default:l(()=>[a(C)]),_:1})]),_:1})]),_:2},1032,["title","onConfirm"])]))),128)),p.value?(v(),m("div",U,[e[3]||(e[3]=_("span",{style:{"margin-right":"10px",width:"40px"}},"种类",-1)),a(y,{class:"elinput","input-style":{textAlign:"center"},modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=x=>s.value=x),style:{width:"360px",height:"40px"}},null,8,["modelValue"])])):E("",!0),_("div",null,[a(i,{type:"primary",style:{width:"100px"},onClick:V},{default:l(()=>e[4]||(e[4]=[g(" 保存 ")])),_:1})])]),_:1})])}}}),D=N(L,[["__scopeId","data-v-8d9da146"]]);export{D as default};
