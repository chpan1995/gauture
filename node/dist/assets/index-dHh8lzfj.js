import{d as U,r as m,a as f,c as h,b as _,e as t,w as s,u as l,f as i,g as N,h as x,o as E,i as C,E as R}from"./index-C7oGZG6Y.js";import{u as B}from"./user-CmzSqLYh.js";import"./index-BYMrysU6.js";import"./request-Bboo2TiE.js";const F={class:"login_container"},P={class:"container"},q=U({__name:"index",setup(k){let c=B(),g=N();x();const p=m();let r=m(!1);const v=m("right");let a=f({username:"",password:""});const w=f({username:[{validator:(n,e,o)=>{e.length>=2?o():o(new Error("账号长度至少2位"))},trigger:"change"}],password:[{validator:(n,e,o)=>{e.length>=5?o():o(new Error("账号长度至少5位"))},trigger:"change"}]}),V=async()=>{await p.value.validate(),r.value=!0;try{await c.userLogin(a),r.value=!1,g.push("/layout")}catch(n){r.value=!1,R({type:"error",message:n.message})}};return(n,e)=>{const o=i("el-input"),u=i("el-form-item"),b=i("el-button"),y=i("el-form");return E(),h("div",F,[_("div",P,[t(y,{class:"login_form",ref_key:"ruleFormRef",ref:p,rules:w,model:l(a),"label-width":"auto","label-position":v.value},{default:s(()=>[e[3]||(e[3]=_("h1",null,"欢迎来到高哲标注系统后台",-1)),t(u,{label:"用户名",prop:"username"},{default:s(()=>[t(o,{modelValue:l(a).username,"onUpdate:modelValue":e[0]||(e[0]=d=>l(a).username=d)},null,8,["modelValue"])]),_:1}),t(u,{label:"密码",prop:"password"},{default:s(()=>[t(o,{type:"password",modelValue:l(a).password,"onUpdate:modelValue":e[1]||(e[1]=d=>l(a).password=d)},null,8,["modelValue"])]),_:1}),t(u,null,{default:s(()=>[t(b,{loading:l(r),class:"login_btn",onClick:V,type:"primary",size:"default"},{default:s(()=>e[2]||(e[2]=[C("登录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["rules","model","label-position"])])])}}});export{q as default};
